# ‚öôÔ∏è –¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è QA
<p>–ù–∏–∂–µ –æ–ø–∏—Å–∞–Ω—ã –¥–≤–∞ –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω–Ω—ã—Ö API-–º–µ—Ç–æ–¥–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—é —Å–∫–∏–¥–æ—á–Ω—ã—Ö –∫—É–ø–æ–Ω–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞. 
–í —Ç–∞–±–ª–∏—Ü–∞—Ö –∏ —Ç–µ–∫—Å—Ç–µ –µ—Å—Ç—å –æ–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞ –∏ –æ—Ç–≤–µ—Ç–∞ –∏ –ø—Ä–æ—á–µ–µ<br>
  <br>
–ü—Ä–æ—Å–º–æ—Ç—Ä–∏ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∏ –ø—Ä–µ–¥–ª–æ–∂–∏ —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–≤–µ—Ä–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ —Å—á–∏—Ç–∞–µ—à—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏. 
–î–ª—è –∑–∞–¥–∞–Ω–∏—è –Ω–µ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç—ã —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏ –∫—Ä–∞—Ç–∫–æ–≥–æ –ø–æ—è—Å–Ω–µ–Ω–∏—è, –¥–ª—è —á–µ–≥–æ –æ–Ω–∏ –Ω—É–∂–Ω—ã. 
–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å, —á—Ç–æ –º—ã –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã –≤–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ —Ä–µ—Å—É—Ä—Å–∞—Ö, –ø–æ—ç—Ç–æ–º—É –º–æ–∂–µ–º –ø–æ–∑–≤–æ–ª–∏—Ç—å —Å–µ–±–µ —Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ —Å—á–∏—Ç–∞–µ–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º<br>
  <br>
–ì–ª–∞–≤–Ω–æ–µ –¥–ª—è –Ω–∞—Å ‚Äî –ø–æ–Ω—è—Ç—å, –∫–∞–∫–∏–º –ø—Ä–æ–≤–µ—Ä–∫–∞–º –æ—Ç–¥–∞—ë—à—å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤ –∏ –ø–æ—á–µ–º—É. –£–¥–∞—á–∏!
</p>

---

## 1. API Coupons ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∫—É–ø–æ–Ω–∞ –Ω–∞ —Å–∫–∏–¥–∫—É
### –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
| HTTP-–º–µ—Ç–æ–¥ | POST |
| ----------- | ----------- |
| Url | https://shop.com/coupons/v1/coupon/create |
| –û–ø–∏—Å–∞–Ω–∏–µ | –°–æ–∑–¥–∞–Ω–∏–µ –∫—É–ø–æ–Ω–æ–≤ ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–º –ø–æ–ª–µ –ø—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–µ –∏ –ø–æ–ª—É—á–∏—Ç—å —Å–∫–∏–¥–∫—É –Ω–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—É–º–º—É |
| –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è | 	–ü–æ–ª–µ amount –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –Ω–µ –±–æ–ª—å—à–µ 4 —Å–∏–º–≤–æ–ª–æ–≤. –ü–æ–ª–µ title –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –Ω–µ –±–æ–ª—å—à–µ 6 —Å–∏–º–≤–æ–ª–æ–≤. |

### üì§ –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞
#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞
| | –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ | –ö–æ–¥ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª–µ–Ω | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π/–ü—Ä–∏–º–µ—Ä |
| ----------- | ----------- | ----------- | ----------- | ----------- | ----------- |
| 1 | –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∫—É–ø–æ–Ω–∞ | amount | number | –î–∞ | –ü–æ–ª–µ –ë–î coupons.coupons.title | 
| 2 | –í–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ –∑–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏—é | title | string | –î–∞ | –ü–æ–ª–µ –ë–î coupons.coupons.amount | 
| 3 | –í–∞–ª—é—Ç–∞ | currency | string | –î–∞ | –ü–æ–ª–µ –ë–î coupons.coupons.currency | 
| 5 | –ù–∞—á–∞–ª–æ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è –∫—É–ø–æ–Ω–∞ | validSince | string | –î–∞ | –î–∞—Ç–∞ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601 
||||||–ü—Ä–∏–º–µ—Ä: ‚Äú2023-08-08T15:26:48.000Z‚Äù|
||||||–ü–æ–ª–µ –ë–î coupons.coupons.valid_since| 
| 6 | –ö–æ–Ω–µ—Ü —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è –∫—É–ø–æ–Ω–∞ | validUntil | string | –î–∞ | –ü–µ—Ä–µ–¥–∞—ë–º –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601
||||||–ü—Ä–∏–º–µ—Ä: ‚Äú2023-08-08T15:26:48.000Z‚Äù
||||||–ü–æ–ª–µ –ë–î coupons.coupons.valid_until| 

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞
```json
POST https://shop.com/coupons/v1/coupon/create

{
"title": "Gift123",
"amount": 100,
"currency": "USD",
"validSince": "2023-03-15 00:09:28",
"validUntil": "2023-03-16 00:09:28"
}
```

### üì• –û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ–ª–∞ –æ—Ç–≤–µ—Ç–∞
| | –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ | –ö–æ–¥ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª–µ–Ω | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π/–ü—Ä–∏–º–µ—Ä |
| ----------- | ----------- | ----------- | ----------- | ----------- | ----------- |
| 1 | –§–ª–∞–≥ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–∞ | success | boolean | –î–∞ | | 
| 2 | –ü—Ä–∏—á–∏–Ω–∞ | reason | string | –ù–µ—Ç | | 
| 3 | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫—É–ø–æ–Ω–∞ | id | number | –î–∞ | –ü–æ–ª–µ –ë–î coupons.coupons.id | 
| 4 | –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∫—É–ø–æ–Ω–∞ | title | string | –î–∞ | –ü–æ–ª–µ –ë–î coupons.coupons.title |
| 5 | –í–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ –∑–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏—é | amount | number | –î–∞ | –ü–æ–ª–µ –ë–î coupons.coupons.amount |
| 6 | –í–∞–ª—é—Ç–∞ | currency | string | –î–∞ | |
| 7 | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫—É–ø–æ–Ω–∞ | createdAt | string | –î–∞ | –ü–æ–ª–µ –ë–î coupons.coupons.created_at |
| 8 | –ù–∞—á–∞–ª–æ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è –∫—É–ø–æ–Ω–∞ | validSince | string | –î–∞ | –î–∞—Ç–∞ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601 |
|||||| –ü—Ä–∏–º–µ—Ä: ‚Äú2023-08-08T15:26:48.000Z‚Äù
|||||| –ü–æ–ª–µ –ë–î coupons.coupons.valid_since |
| 9 | –ö–æ–Ω–µ—Ü —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è –∫—É–ø–æ–Ω–∞ | validUntil | string | –î–∞ | 	–î–∞—Ç–∞ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601, –Ω–∞–ø—Ä–∏–º–µ—Ä ‚Äú2023-08-08T15:26:48.000Z‚Äù |
|||||| –ü–æ–ª–µ –ë–î coupons.coupons.valid_until |

### –ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
```json
{
"success": true,
"id": 123,
"title": "Gift123",
"amount": 100,
"currency": "USD",
"createdAt": "2023-03-15 00:09:00",
"validSince": "2023-03-15 00:09:28",
"validUntil": "2023-03-16 00:09:28"
}
```

### –ü—Ä–∏–º–µ—Ä –Ω–µ—É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
```json
{ success: false, reason: 'internal error' }
```

## 2. API Coupons ‚Äî –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∫—É–ø–æ–Ω–∞
### –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
| HTTP-–º–µ—Ç–æ–¥ | POST |
| ----------- | ----------- |
| Url | https://shop.com/coupons/v1/coupon/activate |
| –û–ø–∏—Å–∞–Ω–∏–µ | –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫—É–ø–æ–Ω–∞ –Ω–∞ —Å–∫–∏–¥–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ |

### üì§ –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞
#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞
| ‚Ññ | –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ | –ö–æ–¥ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª–µ–Ω | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π/–ü—Ä–∏–º–µ—Ä |
| ----------- | ----------- | ----------- | ----------- | ----------- | ----------- |
| 1 | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | userId | string | –î–∞ | | 
| 2 | IP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | ip | string | –î–∞ | | 
| 3 | –í–≤–µ–¥–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∫—É–ø–æ–Ω | title | string | –î–∞ | | 

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞
```json
POST https://shop.com/coupons/v1/coupon/activate

{
"userId": "12345",
"ip": "46.4.228.3",
"data": {
"title": "Gift123"
}
}
```

### üì• –û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ–ª–∞ –æ—Ç–≤–µ—Ç–∞
| ‚Ññ | –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ | –ö–æ–¥ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª–µ–Ω | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π/–ü—Ä–∏–º–µ—Ä |
| ----------- | ----------- | ----------- | ----------- | ----------- | ----------- |
| 1 | –§–ª–∞–≥ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ | success | boolean | –î–∞ | | 
| 2 | –ö–æ–¥ –æ—à–∏–±–∫–∏ –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ | error | string | –ù–µ—Ç | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ | 

### –ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
```json
{ "success": true }
```

### –ü—Ä–∏–º–µ—Ä –Ω–µ—É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
```json
{
"success": false,
"error": "alreadyActivated"
}
```
